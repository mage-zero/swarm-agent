{
  "version": "0.4.37",
  "date": "2026-02-19",
  "summary": "Prevent frontend service rollout deadlocks by enforcing HA-safe Swarm runtime policy after app deploys",
  "requires": {
    "cloud-swarm": ">=1.0.7",
    "mz-control": ">=1.0.9"
  },
  "changes": [
    {
      "id": "frontend-runtime-policy-reconcile",
      "description": "Deploy worker now reconciles frontend runtime policy after app stack deploy so nginx/php-fpm/varnish replicas, max_replicas_per_node, update order, and restart condition remain aligned with HA policy.",
      "phase": "post_migrate",
      "downtimeMinutes": 0,
      "scope": "environment"
    },
    {
      "id": "frontend-placement-deadlock-recovery",
      "description": "When a frontend service update is paused with placement errors (for example max replicas per node exceeded), deploy worker now forces a stop-first recovery rollout to unblock deployment convergence.",
      "phase": "post_migrate",
      "downtimeMinutes": 0,
      "scope": "environment"
    }
  ]
}
